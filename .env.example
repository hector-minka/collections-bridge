# ============================================
# Minka Collections Bridge - Environment Variables
# ============================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control
#
# For Docker/production: use DB_SYNCHRONIZE=false and run migrations.
# The app in Docker listens on port 3000 inside the container; host port is set in docker-compose.

# ============================================
# Server Configuration
# ============================================
# Port for local dev (Docker uses HOST_PORT for host mapping, app listens on 3000 inside container)
PORT=3000
# Host port when using Docker (default 3000). Only used by docker-compose.
# HOST_PORT=3000
NODE_ENV=development
CORS_ORIGIN=*
LOG_LEVEL=info

# ============================================
# Minka Ledger Configuration
# ============================================
# Ledger server URL (e.g., https://ldg-stg.one/api/v2 or https://ledger.minka.io)
MINKA_LEDGER_SERVER=https://ldg-stg.one/api/v2

# Ledger name/identifier
MINKA_LEDGER_NAME=your-ledger-name

# Request timeout in milliseconds
MINKA_LEDGER_TIMEOUT=15000

# Ledger public key (base64-encoded)
MINKA_LEDGER_PUBLIC_KEY=your-ledger-public-key-base64

# ============================================
# Minka Signer Configuration (Ed25519)
# ============================================
# Key format (should be 'ed25519-raw')
MINKA_SIGNER_FORMAT=ed25519-raw

# Signer public key (base64-encoded raw Ed25519 key, 32 bytes = 64 hex chars)
MINKA_SIGNER_PUBLIC=your-public-key-base64

# Signer secret key (base64-encoded raw Ed25519 key, 32 bytes = 64 hex chars)
# WARNING: Keep this secret! Never commit to version control.
MINKA_SIGNER_SECRET=your-secret-key-base64

# Claim source handle for payment-collection intents (wallet must exist in Ledger). Optional.
# INTENT_CLAIM_SOURCE_HANDLE=servibanca

# ============================================
# Database Configuration (PostgreSQL)
# ============================================
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=postgres
DB_PASSWORD=postgres
DB_NAME=collections_bridge

# Database synchronization (set to 'true' for development, 'false' for production)
# WARNING: Setting to 'true' will auto-create/modify tables. Use migrations in production.
DB_SYNCHRONIZE=false

# Database query logging (set to 'true' to see SQL queries in logs)
DB_LOGGING=false
